<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="A package for making HEC-RAS data more FAIR by cataloging models, cross sections, and points for accounting, interoperability, and reuse in RAS and other applications.  Still in alpha dont use this.">
<title>R based HEC-RAS model accounting wrestler • RRASSLER</title>
<script src="deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="pkgdown.js"></script><meta property="og:title" content="R based HEC-RAS model accounting wrestler">
<meta property="og:description" content="A package for making HEC-RAS data more FAIR by cataloging models, cross sections, and points for accounting, interoperability, and reuse in RAS and other applications.  Still in alpha dont use this.">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="index.html">RRASSLER</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.0.2</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item">
  <a class="nav-link" href="reference/index.html">Reference</a>
</li>
<li class="nav-item">
  <a class="nav-link" href="articles/index.html">Articles</a>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav">
<li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/NOAA-OWP/RRASSLER/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>

    
  </div>
</nav><div class="container template-home">
<div class="row">
  <main id="main" class="col-md-9">
<div class="section level1">
<div class="page-header"><h1 id="executive-summary">Executive Summary<a class="anchor" aria-label="anchor" href="#executive-summary"></a>
</h1></div>
<p>The HEC-RAS model format, both as stand alone models or in archive formats, are incompatible for end users whose use case includes widespread accounting and deployment of that data as inputs into other workflows. This tool should be deployed to ingest HEC-RAS models into a “HECRAS_model_catalog”, a normalized and spatialized representation of those models with the requisite metadata and formatted structure needed to mesh seamlessly with <a href="https://noaa-owp.github.io/hydrofabric/articles/cs_dm.html" class="external-link">national scale hydrofabric efforts and data models</a>, and applications such as <a href="https://github.com/NOAA-OWP/t-route" class="external-link">T-Route</a> and <a href="https://github.com/NOAA-OWP/ras2fim" class="external-link">RAS2FIM</a>. See the <a href="https://NOAA-OWP.github.io/RRASSLER/" class="external-link">package documentation</a> for more details.</p>
</div>
<div class="section level1">
<h1 id="installation">Installation<a class="anchor" aria-label="anchor" href="#installation"></a>
</h1>
<p>It is recommended that you wait to start using this tool until parsing accuracy, edge case handling, and accounting is fully ironed out, the final form of these tables is still in flux. As the badges above indicate, this package is still undergoing formatting, although the core logic of record creation has been stabalized. If the cutting edge nature of this doesn’t dissuade you, install the development version of <a href="https://github.com/NOAA-OWP/RRASSLER" class="external-link">RRASSLER from GitHub</a> with:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># install.packages("devtools")                  # You only need this if this is your very first time opening RStudio</span></span>
<span><span class="co"># install.packages("BiocManager")               # You only need this if this is your very first time opening RStudio</span></span>
<span><span class="co"># BiocManager::install("rhdf5")                 # You only need this if this is your very first time opening RStudio</span></span>
<span><span class="co"># utils::remove.packages("RRASSLER")            # You only need to run this if you have a previous install and need to wipe it</span></span>
<span><span class="fu">remotes</span><span class="fu">::</span><span class="fu"><a href="https://remotes.r-lib.org/reference/install_github.html" class="external-link">install_github</a></span><span class="op">(</span><span class="st">"NOAA-OWP/RRASSLER"</span><span class="op">)</span>    <span class="co"># If it asks for package updates: press 1</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://r-datatable.com" class="external-link">data.table</a></span><span class="op">)</span></span>
<span><span class="fu">RRASSLER</span><span class="fu">::</span><span class="fu"><a href="reference/marco.html">marco</a></span><span class="op">(</span><span class="op">)</span>                           <span class="co"># A "hello world" test</span></span></code></pre></div>
</div>
<div class="section level1">
<h1 id="tutorials">Tutorials<a class="anchor" aria-label="anchor" href="#tutorials"></a>
</h1>
<p>There are several tutorials available at the <a href="https://NOAA-OWP.github.io/RRASSLER/docs/articles/index.html" class="external-link">Article index</a> including:</p>
<ul>
<li>
<a href="https://NOAA-OWP.github.io/RRASSLER/docs/articles/Ingest-steps.html" class="external-link">Ingest steps</a>: What is a “hydrofabric cross section”, what is HEC-RAS data, and what RRASSLER is doing to that data?</li>
<li>
<a href="https://NOAA-OWP.github.io/RRASSLER/docs/articles/Deploying-RRASSLER.html" class="external-link">Deploying RRASSLER</a>: How to make your own “HEC-RAS model catalog”.</li>
<li>
<a href="https://NOAA-OWP.github.io/RRASSLER/docs/articles/Mapping-RRASSLER.html" class="external-link">Mapping RRASSLER</a>: Adding (geographic) context to our data.</li>
</ul>
<p>See the <a href="https://NOAA-OWP.github.io/RRASSLER/index.html" class="external-link">package documentation</a> for <a href="https://NOAA-OWP.github.io/RRASSLER/reference/index.html" class="external-link">function references</a> and additional information.</p>
</div>
<div class="section level1">
<h1 id="referneces">Referneces<a class="anchor" aria-label="anchor" href="#referneces"></a>
</h1>
<ul>
<li>
<a href="https://NOAA-OWP.github.io/RRASSLER/docs/articles/model-debug.html" class="external-link">Model debug</a>: code snippets useful in learning how to interact with RAS data.</li>
<li>
<a href="https://github.com/AliForghani/FEMA_BLE" class="external-link">FEMA_BLE</a> by Ali Forghani</li>
</ul>
<div class="section level2">
<h2 id="explanations">Explanations<a class="anchor" aria-label="anchor" href="#explanations"></a>
</h2>
<div class="section level3">
<h3 id="statement-of-need">Statement of need<a class="anchor" aria-label="anchor" href="#statement-of-need"></a>
</h3>
<p>There are few hydraulic models as prolific as HEC-RAS, and since it’s first named release in 1995 users have created these models using public and private data and countless hours of engineering scrutinization in order to generate the best possible purpose-built representation of the world. Like any model, some level of input massaging is necessary in order to get the data into the specified mathematical format a model requires. Like most domain specific software solutions, that massaging was rather, forceful, to the point of permanently altering the shape of those inputs into something that most geospatial data readers are unable to handle. This creates a great deal of friction both in terms of model accountability and interoperability, particularly when you take the standpoint as a model consumer. The R based HEC-RAS Wrestler (RRASSLER) is here to mediate that. By internally versioning and aligning data and pointers, the resulting structure provides a bottoms up approach amenable to walking continental scale applications back to the specific point, cross section, and HEC-RAS model they were sourced from.</p>
</div>
<div class="section level3">
<h3 id="discussion">Discussion<a class="anchor" aria-label="anchor" href="#discussion"></a>
</h3>
<div class="section level4">
<h4 id="i-am-both-an-archivistmodel-creator-and-a-rrassler-user">I am both an archivist/model creator and a RRASSLER user<a class="anchor" aria-label="anchor" href="#i-am-both-an-archivistmodel-creator-and-a-rrassler-user"></a>
</h4>
<p>You will unfortunately have to keep two copies of the data. RRASSLER isn’t creating anything you don’t already have in the archive in one form or another, and completely removes all metadata and formatting that your archive has so painstakingly created. Don’t change your workflow, consider RRASSLER a “post-processing” step to your archiving work.</p>
</div>
<div class="section level4">
<h4 id="limitations">Limitations<a class="anchor" aria-label="anchor" href="#limitations"></a>
</h4>
<p>Aligning the different model surfaces is hard. Although every effort was made to account for standard edge cases and unit cohesion, you will, more often than not, find that a surface you use and a model do not align. That is not particularly surprising, but it is often disconcerting. 3DEP timestamps, resolutions, and even order of reprojection operations may alter the surfaces slightly, even if they are stated to have come from the same input database. Finally, this was developed, tested, and deployed over primarily 1D data. Although 2D model will ingest, there was no consideration for those and is not accounting or copying <em>.tif</em> files so the value of RRASSLing these models is greatly diminished.</p>
</div>
<div class="section level4">
<h4 id="getting-involved">Getting involved<a class="anchor" aria-label="anchor" href="#getting-involved"></a>
</h4>
<p>If you have questions, concerns, bug reports, etc, please file an issue in this repository’s Issue Tracker. I know we are not the only ones attempting to align the world. General instructions on <em>how</em> to contribute can be found at <a href="CONTRIBUTING.html">CONTRIBUTING</a>. More specifically, the following are known shortcomings and next steps.</p>
</div>
<div class="section level4">
<h4 id="a-few-next-steps">A few next steps<a class="anchor" aria-label="anchor" href="#a-few-next-steps"></a>
</h4>
<div class="section level5">
<h5 id="hardening-and-extention">Hardening and extention<a class="anchor" aria-label="anchor" href="#hardening-and-extention"></a>
</h5>
<p>Efforts to harden the workflow and algorithm, extend this workflow into Python, and general improvements would all be uses of time.</p>
</div>
<div class="section level5">
<h5 id="rrastac">RRASTAC<a class="anchor" aria-label="anchor" href="#rrastac"></a>
</h5>
<p>Although not the most obvious use of <a href="https://stacspec.org/en/about/" class="external-link">STAC</a>, or SpatioTemporal Asset Catalog, HEC-RAS models (most easily the footprints generated in the cataloging of the models) could be extended to the STAC framework as a STAC Item, and by that analogy each version of the catalog is a STAC collection. Formalizing this, most likely through an additional function such as <em>STAC_catalog.R</em>, which would generate the needed json’s and then appropriately serve those, would be a worthy task to undertake. The obvious extension of that, exposing the model cross sections with XYZ LINESTRING geometry as STAC items, is in theory what RRASSLER is accomplishing but the framework and analogous STAC deployment is less clear and could also be explored.</p>
</div>
</div>
</div>
<div class="section level3">
<h3 id="dependencies">Dependencies<a class="anchor" aria-label="anchor" href="#dependencies"></a>
</h3>
<p>Built using <a href="https://posit.co/downloads/" class="external-link">RStudio</a> and <a href="https://github.com/rocker-org/rocker-versioned2" class="external-link">rocker-versioned2</a>, <em>geodev.Dockerfile</em> docker file provided for reproducibility. Typically deployed alongside <a href="https://github.com/NOAA-OWP/ras2fim/blob/dev/doc/INSTALL.md" class="external-link">a RAS2FIM conda environment</a> in Windows.</p>
</div>
</div>
<div class="section level2">
<h2 id="open-source-licensing-info">Open source licensing info<a class="anchor" aria-label="anchor" href="#open-source-licensing-info"></a>
</h2>
<ol style="list-style-type: decimal">
<li><a href="TERMS.html">TERMS</a></li>
<li><a href="LICENSE">LICENSE</a></li>
</ol>
</div>
<div class="section level2">
<h2 id="credits-and-references">Credits and references<a class="anchor" aria-label="anchor" href="#credits-and-references"></a>
</h2>
<p>Credit to the packages used in the development, testing, and deployment of RRASSLER including but not exclusive of: <em>AOI, arrow, cowplot, data.table, dplyr, ggplot2, glue, gmailr, httr, leafem, leaflet, leafpop, lubridate, lwgeom, mapview, nhdplusTools, sf, sfheaders, stringi, stringr, tidyr, unglue, units, utils, and rhdf5</em>. We are appreciative of the <a href="https://webapps.usgs.gov/infrm/estBFE/" class="external-link">FEMA region 6 group and the BLE data</a> they make publicly available. Built copying patterns from <a href="https://github.com/NOAA-OWP/ras2fim/blob/dev/src/create_shapes_from_hecras.py" class="external-link">RAS2FIM</a>.</p>
<div class="section level3">
<h3 id="for-questions">For questions<a class="anchor" aria-label="anchor" href="#for-questions"></a>
</h3>
<p><a href="james.coll@noaa.gov">Jim Coll</a> (FIM Developer), <a href="fernando.salas@noaa.gov">Fernando Salas</a> (Director, OWP Geospatial Intelligence Division)</p>
</div>
</div>
</div>

  </main><aside class="col-md-3"><div class="links">
<h2 data-toc-skip>Links</h2>
<ul class="list-unstyled">
<li><a href="https://github.com/NOAA-OWP/RRASSLER/" class="external-link">Browse source code</a></li>
<li><a href="https://github.com/NOAA-OWP/RRASSLER" class="external-link">Report a bug</a></li>
</ul>
</div>

<div class="license">
<h2 data-toc-skip>License</h2>
<ul class="list-unstyled">
<li>
<a href="https://opensource.org/licenses/mit-license.php" class="external-link">MIT</a> + file <a href="LICENSE-text.html">LICENSE</a>
</li>
</ul>
</div>

<div class="community">
<h2 data-toc-skip>Community</h2>
<ul class="list-unstyled">
<li><a href="CONTRIBUTING.html">Contributing guide</a></li>
</ul>
</div>

<div class="citation">
<h2 data-toc-skip>Citation</h2>
<ul class="list-unstyled">
<li><a href="authors.html#citation">Citing RRASSLER</a></li>
</ul>
</div>

<div class="developers">
<h2 data-toc-skip>Developers</h2>
<ul class="list-unstyled">
<li>Jim Coll <br><small class="roles"> Author, maintainer </small> <a href="https://orcid.org/0000-0002-6994-6668" target="orcid.widget" aria-label="ORCID" class="external-link"><span class="fab fa-orcid orcid" aria-hidden="true"></span></a> </li>
<li>Mike Johnson <br><small class="roles"> Contributor </small> <a href="https://orcid.org/0000-0002-5288-8350" target="orcid.widget" aria-label="ORCID" class="external-link"><span class="fab fa-orcid orcid" aria-hidden="true"></span></a> </li>
<li>Laura Keys <br><small class="roles"> Contributor </small> <a href="https://orcid.org/0000-0003-1470-5215" target="orcid.widget" aria-label="ORCID" class="external-link"><span class="fab fa-orcid orcid" aria-hidden="true"></span></a> </li>
<li>Andy Carter <br><small class="roles"> Contributor, translator </small>  </li>
<li>
<a href="https://water.noaa.gov/about/nwm" class="external-link"><img src="https://raw.githubusercontent.com/JimColl/RRASSLER/main/man/figures/noaa-logo.png" height="36" alt="NOAA OWP"></a> <br><small class="roles"> Funder </small>  </li>
<li>
<a href="https://lynker-intel.com/" class="external-link"><img src="https://raw.githubusercontent.com/JimColl/RRASSLER/main/man/figures/lynker-logo.png" height="36" alt="Lynker"></a> <br><small class="roles"> Funder </small>  </li>
</ul>
</div>

<div class="dev-status">
<h2 data-toc-skip>Dev status</h2>
<ul class="list-unstyled">
<li><a href="https://lifecycle.r-lib.org/articles/stages.html#experimental" class="external-link"><img src="https://img.shields.io/badge/lifecycle-experimental-orange.svg" alt="Lifecycle: experimental"></a></li>
<li><a href="https://choosealicense.com/licenses/mit/" class="external-link"><img src="https://img.shields.io/badge/License-MIT-yellow.svg" alt="License: MIT"></a></li>
<li><a href="https://www.repostatus.org/#active" class="external-link"><img src="https://www.repostatus.org/badges/latest/active.svg" alt="Project Status: Active"></a></li>
</ul>
</div>

  </aside>
</div>


    <footer><div class="pkgdown-footer-left">
  <p></p>
<p>Developed by Jim Coll, Mike Johnson, Laura Keys, Andy Carter, <a href="https://water.noaa.gov/about/nwm" class="external-link"><img src="https://raw.githubusercontent.com/JimColl/RRASSLER/main/man/figures/noaa-logo.png" height="36" alt="NOAA OWP"></a>, <a href="https://lynker-intel.com/" class="external-link"><img src="https://raw.githubusercontent.com/JimColl/RRASSLER/main/man/figures/lynker-logo.png" height="36" alt="Lynker"></a>.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

    </footer>
</div>

  

  

  </body>
</html>
